{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/JerilynFranz/python-simplebench/main/schemas/json_report-v1.json",
    "title": "Report Schema (V1)",
    "description": "SimpleBench JSON Report Schema (V1)",
    "type": "object",
    "properties": {
        "version": {
            "description": "The version of the JSON report schema",
            "type": "integer",
            "const": 1
        },
        "type": {
            "title": "Type",
            "description": "Type of the benchmark report",
            "type": "string",
            "const": "SimpleBenchReport::V1"
        },
        "group": {
            "title": "Group",
            "description": "Group of the benchmark",
            "type": "string"
        },
        "title": {
            "title": "Title",
            "description": "Title of the benchmark",
            "type": "string"
        },
        "description": {
            "title": "Description",
            "description": "Description of the benchmark",
            "type": "string"
        },
        "variation_cols": {
            "title": "Variation Columns",
            "description": "Variation columns for the benchmark",
            "type": "object"
        },
        "results": {
            "title": "Results",
            "description": "Benchmark results",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "type": {
                        "title": "Type",
                        "description": "Type of the result",
                        "type": "string"
                    },
                    "group": {
                        "title": "Group",
                        "description": "Group of the result",
                        "type": "string"
                    },
                    "title": {
                        "title": "Title",
                        "description": "Title of the result",
                        "type": "string"
                    },
                    "description": {
                        "title": "Description",
                        "description": "Description of the result",
                        "type": "string"
                    },
                    "n": {
                        "title": "N",
                        "description": "Complexity n value",
                        "type": "number"
                    },
                    "variation_cols": {
                        "title": "Variation Columns",
                        "description": "Variation columns for the result",
                        "type": "object"
                    },
                    "interval_unit": {
                        "title": "Interval Unit",
                        "description": "Interval unit for the result",
                        "type": "string"
                    },
                    "interval_scale": {
                        "title": "Interval Scale",
                        "description": "Interval scale for the result",
                        "type": "number"
                    },
                    "ops_per_interval_unit": {
                        "title": "Operations Per Interval Unit",
                        "description": "Operations per interval unit for the result",
                        "type": "string"
                    },
                    "ops_per_interval_scale": {
                        "title": "Operations Per Interval Scale",
                        "description": "Operations per interval scale for the result",
                        "type": "number"
                    },
                    "memory_unit": {
                        "title": "Memory Unit",
                        "description": "Memory unit for the result",
                        "type": "string"
                    },
                    "memory_scale": {
                        "title": "Memory Scale",
                        "description": "Memory scale for the result",
                        "type": "number"
                    },
                    "total_elapsed": {
                        "title": "Total Elapsed",
                        "description": "Total elapsed time for the result",
                        "type": "number"
                    },
                    "extra_info": {
                        "title": "Extra Info",
                        "description": "A free-form object for third-party extensions or extra data.",
                        "type": "object",
                        "additionalProperties": true
                    },
                    "per_round_timings": {
                        "title": "Per Round Timings",
                        "description": "Per round timings for the result",
                        "$ref": "#/$defs/stats_block"
                    },
                    "ops_per_second": {
                        "title": "Operations Per Second",
                        "description": "Operations per second for the result",
                        "$ref": "#/$defs/stats_block"
                    },
                    "memory": {
                        "title": "Memory",
                        "description": "Memory usage for the result",
                        "$ref": "#/$defs/stats_block"
                    },
                    "peak_memory": {
                        "title": "Peak Memory",
                        "description": "Peak memory usage for the result",
                        "$ref": "#/$defs/stats_block"
                    }
                },
                "required": [
                    "type",
                    "group",
                    "title",
                    "description",
                    "n",
                    "variation_cols",
                    "interval_unit",
                    "interval_scale",
                    "ops_per_interval_unit",
                    "ops_per_interval_scale",
                    "memory_unit",
                    "memory_scale",
                    "total_elapsed",
                    "extra_info",
                    "per_round_timings",
                    "ops_per_second",
                    "memory",
                    "peak_memory"
                ],
                "additionalProperties": false
            },
            "minItems": 1
        },
        "machine": {
            "$ref": "machine-info.json"
        }
    },
    "required": [
        "version",
        "type",
        "group",
        "title",
        "description",
        "variation_cols",
        "results",
        "machine"
    ],
    "additionalProperties": false,
    "$defs": {
        "stats_block": {
            "type": "object",
            "title": "Statistics Block",
            "description": "Block containing statistical measurements",
            "properties": {
                "type": {
                    "title": "Measurement Type",
                    "description": "Type of the measurements",
                    "type": "string",
                    "enum": [
                        "operations_per_second",
                        "timing",
                        "memory",
                        "peak_memory"]
                },
                "unit": {
                    "title": "Measurement Unit",
                    "description": "Unit of the measurement values",
                    "type": "string",
                    "minLength": 1
                },
                "scale": {
                    "title": "Measurement Scale",
                    "description": "Scale of the measurement values",
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "iterations": {
                    "title": "Number of Iterations",
                    "description": "Number of measured iterations",
                    "type": "integer",
                    "exclusiveMinimum": 0
                },
                "rounds": {
                    "title": "Number of Rounds",
                    "description": "Number of rounds executed for each iteration",
                    "type": "integer",
                    "exclusiveMinimum": 0
                },
                "mean": {
                    "title": "Mean",
                    "description": "Mean of the measurements",
                    "type": "number"
                },
                "median": {
                    "title": "Median",
                    "description": "Median of the measurements",
                    "type": "number"
                },
                "minimum": {
                    "title": "Minimum",
                    "description": "Minimum value of the measurements",
                    "type": "number"
                },
                "maximum": {
                    "title": "Maximum",
                    "description": "Maximum value of the measurements",
                    "type": "number"
                },
                "standard_deviation": {
                    "title": "Standard Deviation",
                    "description": "Standard deviation of the measurements",
                    "type": "number"
                },
                "relative_standard_deviation": {
                    "title": "Relative Standard Deviation",
                    "description": "Relative standard deviation of the measurements",
                    "type": "number"
                },
                "percentiles": {
                    "title": "Percentiles",
                    "description": "Percentiles of the measurements",
                    "type": "array",
                    "items": {"type": "number"},
                    "minItems": 101,
                    "maxItems": 101
                },
                "measurements": {
                    "title": "Measurements",
                    "description": "Raw data series of measurements collected (one value per iteration)",
                    "type": "array",
                    "items": {
                        "type": "number"
                    },
                    "default": []
                }
            },
            "required": [
                "type",
                "unit",
                "scale",
                "iterations",
                "rounds",
                "mean",
                "median",
                "minimum",
                "maximum",
                "standard_deviation",
                "relative_standard_deviation",
                "percentiles"
            ],
            "additionalProperties": false
        }
    }
}